# Proof Verification Relayer Configuration
# This service SENDS VOTE TRANSACTIONS and LISTENS TO EVENTS on Rarimo L2
#
# REQUIRED: 
# 1. PostgreSQL database for storing state
# 2. A funded private key on Rarimo L2 Testnet

log:
  level: debug
  disable_sentry: true

listener:
  addr: :8000

# PostgreSQL connection
db:
  url: "postgres://rarimo:rarimo@postgres:5432/proof_verification?sslmode=disable"

# Vault disabled - using direct private key
vault:
  disabled: true

network:
  # Rarimo L2 Testnet RPC
  rpc: "https://l2.testnet.rarimo.com"
  gas_multiplier: 1.23
  
  # REQUIRED: Your private key (without 0x prefix)
  # WARNING: Use a dedicated relayer wallet with RMO tokens!
  private_key: "YOUR_PRIVATE_KEY_HERE_WITHOUT_0x"

# Smart contract addresses (from passport-contracts)
contracts:
  voting_registry:
    address: null  # Set if using voting registry
  lightweight_state:
    address: "0x29516F57C90459c279CF1981D8BEb3b6C1d5B3dB"
  register2:
    address: "0x511B5Ad9E911Ad5E87e3acb5862976F1398F9A68"
    block: 0

# Voting V2 configuration (for NoirIdVoting)
voting_v2:
  enable: true
  rpc: "https://l2.testnet.rarimo.com"
  private_key: "YOUR_PRIVATE_KEY_HERE_WITHOUT_0x"
  proposal_state_address: "0x2Be5eF7434a14d08A2C8D8c886cBEB805ae7B671"
  block: 0
  gas_limit: 800000
  check_with_subscribe: false

# State replicator configuration
replicator:
  address: "0x10f370A6d8782E0e0E85ba948be6DA2465Aab4E2"
  source_smt: "0xBdFA8630701e989E0436dAed6a8bFBa442D4FCC1"
  root_prefix: "Rarimo root"

# IPFS for proposal metadata
ipfs:
  url: "https://ipfs.rarimo.com/ipfs"
  max_retries: 3
  min_abnormal_period: 2s
  max_abnormal_period: 8s

# Event listener settings
pinger:
  blocks_distance: 10000
  timeout: 5s
  normal_period: 10s
  min_abnormal_period: 10s
  max_abnormal_period: 10s

cop:
  disabled: true
